# Телеграм-бот Чё готовим
Бот принимает голосовое сообщение и по распознанному перечню продуктов подбирает из базы список блюд, которые можно приготовить. 

## Целевая аудитория
Целевая аудитория - все пользователи telegram, встающие перед деломой приготовления пищи из имеющихся в наличии продуктов и минимизации расходов на их приобретение.

## Особенности реализации
Бот реализован как совокупность микросервисов. Локально развернуты Whisper, для распознования голосовых сообщений и эмбеддинг-модель в связке с faiss для подбора релевантных списков продуктов

## Дальнейшие улучшения
1. Установка pgvector и перенос эмбеддингов в единую базу
2. Добавление выдачи данных о калорийности и энергетической ценности продуктов
3. Улучшение распознавания аудио, выделение сущностей с использованием LLM и, как следствие, вывод пользователю списка необходимых покупок по выбранному рецепту
4. Изменение слоев контейнеров с целью снижения занимаемого места

## Необходимые расурсы для запуска
Данный бот не использует внешние API. Все модели разворачиваются локально, соответственно, необходим сервер с объемом диска не менее 10 GB

## Сбор данных для работы сервиса
Данные были собраны с сайтов, где выкладываются рецепты. Дамп базы находится по ссылке ниже

## Идеи для монетизации
1. Бесплатное использование для пользователя, но в рамках аренды для владельца telegram-канала с целью удержания траффика
2. Коллаборация с сервисами заказа продуктов
3. Аффилиейт-маркетинг


## Установка
1. Загрузить бота на сервер
`git clone https://github.com/poivian/Cho_gotovim_bot.git`
2. Перейти в склонированную директорию
`cd Cho_gotovim_bot`
3. Распаковать архивы с файлом базы > dump.7z и файлы модели и эмбеддингов > /search/search_db.7z
`https://drive.usercontent.google.com/download?id=19m10hBzG13NPMO1b5_sQkO2TniDMGj5_` распаковать в корневую директорию проекта,  
`https://drive.usercontent.google.com/download?id=10ScThIsRm-uwN60d23HakP55AZt-o4C8` распаковать в ./search/
5. Заполнить файл .env-EXAMPLE своими данными и переименовать файл в .env
6. Собрать образы контейнеров
`sudo docker compose build`
7. Запустить контейнеры
`sudo docker compose up -d`
8. Загрузить дамп базы
`sudo docker exec -i pg_database /bin/bash -c "PGPASSWORD={пароль от базы} psql --username {имя пользователя в базе} database" < dump.sql`